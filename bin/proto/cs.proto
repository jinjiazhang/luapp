syntax = "proto3";

import "comm.proto";

message cs_account {
    string openid = 1;
    int64 roleid = 2;
    string name = 3;
}

message cs_role {
    int64 roleid = 1;
    string openid = 2;
    string name = 3;
    string icon = 4;
    int32 gender = 5;
    int64 money = 6;
    int64 chips = 7;
    int32 register = 8;
    int32 online = 9;
    int32 offline = 10;
    int32 gsvrid = 11;
    int64 roomid = 12;
}

message cs_login_req {
	string openid = 1;
	string token = 2;
}

message cs_login_rsp {
	errno result = 1;
	oneof oneof_account {
		cs_account account = 2;
	}
}

message cs_kickout_ntf {
	errno reason = 1;
}

message cs_create_role_req {
	string name = 1;
}

message cs_create_role_rsp {
	errno result = 1;
	oneof oneof_role {
		cs_role role = 2;
	}
}

message cs_select_role_req {
	int64 roleid = 1;
}

message cs_select_role_rsp {
	errno result = 1;
	oneof oneof_role {
		cs_role role = 2;
	}
}

message cs_fetch_room_req {
	game_mode mode = 1;
}

message cs_fetch_room_rsp {
	errno result = 1;
	repeated room_brief room_list = 2;
}

message cs_create_room_req {
	string name = 1;
	game_mode mode = 2;
	game_opt option = 3;
}

message cs_create_room_rsp {
	errno result = 1;
	oneof oneof_room {
		room_detail room = 2;
	}
}

message cs_enter_room_req {
	int64 roomid = 1;
	int32 roomkey = 2;
}

message cs_enter_room_rsp {
	errno result = 1;
	oneof oneof_room {
		room_detail room = 2;
	}
}

message cs_enter_room_ntf {
	int64 roomid = 1;
	room_role viewer = 2;
}

message cs_leave_room_req {
	int64 roomid = 1;
}

message cs_leave_room_rsp {
	errno result = 1;
	int64 roomid = 2;
}

message cs_leave_room_ntf {
	int64 roomid = 1;
	int64 roleid = 2;
	reason_type reason = 3;
}

message cs_dismiss_room_req {
	int64 roomid = 1;
}

message cs_dismiss_room_rsp {
	errno result = 1;
	int64 roomid = 2;
}

message cs_dismiss_room_ntf {
	int64 roomid = 1;
	reason_type reason = 2;
}

message cs_texas_chat_req {
	string content = 1;
}

message cs_texas_chat_rsp {
	errno result = 1;
}

message cs_texas_chat_ntf {
	int64 roomid = 1;
	int64 roleid = 2;
	string content = 3;
}

message cs_texas_sitdown_req {
	int32 seatid = 1;
}

message cs_texas_sitdown_rsp {
	errno result = 1;
	oneof oneof_player {
		texas_player player = 2;	
	}
}

message cs_texas_sitdown_ntf {
	int64 roomid = 1;
	texas_player player = 2;
}

message cs_texas_standup_req {
	int32 seatid = 1;
}

message cs_texas_standup_rsp {
	errno result = 1;
}

message cs_texas_standup_ntf {
	int64 roomid = 1;
	int32 seatid = 2;
}

message cs_texas_start_req {
	int32 reserved = 1;
}

message cs_texas_start_rsp {
	errno result = 1;
}

message cs_texas_start_ntf {
	int64 roomid = 1;
}

message cs_texas_hand_ntf {
	int64 roomid = 1;
	texas_hand hand = 2;
}

message cs_texas_deal_ntf {
	int64 roomid = 1;
	int32 hand_idx = 2;
	int32 seatid = 3;
	repeated int32 cards = 4;
}

message cs_texas_round_ntf {
	int64 roomid = 1;
	int32 hand_idx = 2;
	texas_round round = 3;
}

message cs_texas_turn_ntf {
	int64 roomid = 1;
	int32 hand_idx = 2;
	int32 seatid = 3;
}

message cs_texas_action_req {
	int32 hand_idx = 1;
	int32 round_idx = 2;
	action_type act_type = 3;
	int64 act_chips = 4;
}

message cs_texas_action_rsp {
	errno result = 1;
}

message cs_texas_action_ntf {
	int64 roomid = 1;
	int32 hand_idx = 2;
	int32 round_idx = 3;
	texas_action action = 4;
}