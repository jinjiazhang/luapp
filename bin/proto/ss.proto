syntax = "proto3";

import "comm.proto";
import "db.proto";
import "cs.proto";

message ss_login_req {
	int64 flowid = 1;
	int32 number = 2;
	string openid = 3;
	int32 svrid = 4;
}

message ss_login_rsp {
	int64 flowid = 1;
	errno result = 2;
	int32 number = 3;
	string openid = 4;
	int32 svrid = 5;
	oneof oneof_account {
		tb_account account = 6;
	}
}

message ss_logout_req {
	int64 flowid = 1;
	string openid = 2;
	int32 svrid = 3;
}

message ss_logout_rsp {
	int64 flowid = 1;
	errno result = 2;
	string openid = 3;
}

message ss_online_req {
	int64 flowid = 1;
	string openid = 2;
	int32 svrid = 3;
}

message ss_online_rsp {
	int64 flowid = 1;
	errno result = 2;
	string openid = 3;
}

message ss_kickout_ntf {
	int64 flowid = 1;
	string openid = 2;
	errno reason = 3;
}

message ss_create_role_req {
	int64 flowid = 1;
	string openid = 2;
	string name = 3;
}

message ss_create_role_rsp {
	int64 flowid = 1;
	errno result = 2;
	string openid = 3;
	oneof oneof_role {
		tb_role role = 4;
	}
}

message ss_load_role_req {
	int64 flowid = 1;
	string openid = 2;
	int64 roleid = 3;
}

message ss_load_role_rsp {
	int64 flowid = 1;
	errno result = 2;
	string openid = 3;
	oneof oneof_role {
		tb_role role = 4;
	}
}

message ss_save_role_req {
	int64 flowid = 1;
	string openid = 2;
	tb_role role = 3;
}

message ss_save_role_rsp {
	int64 flowid = 1;
	errno result = 2;
	string openid = 3;
	int64 roleid = 4;
}

message ss_fetch_room_req {
	int64 flowid = 1;
	int64 roleid = 2;
	game_mode mode = 3;
}

message ss_fetch_room_rsp {
	int64 flowid = 1;
	errno result = 2;
	int64 roleid = 3;
	repeated room_brief room_list = 4;
}

message ss_create_room_req {
	int64 flowid = 1;
	int32 lobbyid = 2;
	room_role role = 3;
	int64 roomid = 4;
	int32 cipher = 5;
	string name = 6;
	game_mode mode = 7;
	game_opt option = 8;
}

message ss_create_room_rsp {
	int64 flowid = 1;
	errno result = 2;
	int64 roleid = 3;
	oneof oneof_room {
		room_detail room = 4;
	}
}

message ss_enter_room_req {
	int64 flowid = 1;
	int32 lobbyid = 2;
	room_role role = 3;
	int64 roomid = 4;
	int32 cipher = 5;
}

message ss_enter_room_rsp {
	int64 flowid = 1;
	errno result = 2;
	int64 roleid = 3;
	oneof oneof_room {
		room_detail room = 4;
	}
}

message ss_leave_room_req {
	int64 flowid = 1;
	int64 roleid = 2;
	int64 roomid = 3;
	leave_reason reason = 4;
}

message ss_leave_room_rsp {
	int64 flowid = 1;
	errno result = 2;
	int64 roleid = 3;
	int64 roomid = 4;
	leave_reason reason = 5;
}

message ss_dismiss_room_req {
	int64 flowid = 1;
	int64 roleid = 2;
	int64 roomid = 3;
	leave_reason reason = 4;
}

message ss_dismiss_room_rsp {
	int64 flowid = 1;
	errno result = 2;
	int64 roleid = 3;
	int64 roomid = 4;
	leave_reason reason = 5;
}

message ss_room_operate_req {
	int64 flowid = 1;
	int64 roleid = 2;
	int64 roomid = 3;
}

message ss_room_operate_rsp {
	int64 flowid = 1;
	errno result = 2;
	int64 roleid = 3;
}

message ss_update_room_req {
	int64 flowid = 1;
	room_brief room = 2;
}

message ss_update_room_rsp {
	int64 flowid = 1;
	errno result = 2;
}

message ss_report_payload_req {
	int64 flowid = 1;
	int32 support_mode = 2;
	int32 role_count = 3;
	int32 room_count = 4;
}

message ss_report_payload_rsp {
	int64 flowid = 1;
	errno result = 2;
}